<html xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:myNS="urn:myNameSpace">
  <head>
    <title>Diff of SM Process</title>
  </head>
  <body>
    <div>
      <b>Process:</b>
      <br /><table width='100%'><tr><td width='50%'>MS.HPSXin.cm.PartnerApproval.daizhen</td><td width='50%'>MS.HPSXin.cm.PartnerApproval.daizhen</td></tr></table><b>Init Expression:</b><br /><div><table width='100%'><tr><td width='50%'>$L.ms.hp.owned=false;$L.ms.approval.groups={};$L.ms.deny.groups={};$L.ms.deeptrace=nullsub(val(TransactionDetailedTrace in $L.file, 4), false)</td><td width='50%'>$L.ms.hp.owned=false;$L.ms.approval.groups={};$L.ms.deny.groups={};$L.ms.deeptrace=nullsub(val(TransactionDetailedTrace in $L.file, 4), false)</td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.action.error=false;cleanup($L.ms.action.error.group);$L.ms.no.comments=false;cleanup($L.ms.no.comments.group)</td><td width='50%'>$L.ms.action.error=false;cleanup($L.ms.action.error.group);$L.ms.no.comments=false;cleanup($L.ms.no.comments.group)</td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.approve.comment={};$L.ms.deny.comment={}</td><td width='50%'>$L.ms.approve.comment={};$L.ms.deny.comment={}</td></tr></table><table width='100%'><tr><td width='50%'></td><td width='50%'></td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.cm.exists=false;cleanup($L.ms.cm.ticket);if (not  (null(contents($ms.hpsxin.cm.ticket)))) then ($L.void=fduplicate($L.ms.cm.ticket, $ms.hpsxin.cm.ticket);$L.ms.cm.exists=true;$L.ms.coodinator.group=nullsub(MS.coordinator.group in $L.ms.cm.ticket, "not provided"))</td><td width='50%'>$L.ms.cm.exists=false;cleanup($L.ms.cm.ticket);if (not  (null(contents($ms.hpsxin.cm.ticket)))) then ($L.void=fduplicate($L.ms.cm.ticket, $ms.hpsxin.cm.ticket);$L.ms.cm.exists=true;$L.ms.coodinator.group=nullsub(MS.coordinator.group in $L.ms.cm.ticket, "not provided"))</td></tr></table><table width='100%'><tr><td width='50%'></td><td width='50%'></td></tr></table><table width='100%'><tr><td width='50%'>$L.success.flgA=false;$L.success.flgB=false;cleanup($L.ms.exists.codeA);cleanup($L.ms.exists.codeB);cleanup($L.ms.query);cleanup($L.ms.cm.object);$L.ms.filename="Object";$L.success.flgA=rtecall("rinit", $L.ms.exists.codeA, $L.ms.cm.object, $L.ms.filename);if $L.success.flgA then ($L.ms.query="file.name=\"cm3r\"")</td><td width='50%'>$L.success.flgA=false;$L.success.flgB=false;cleanup($L.ms.exists.codeA);cleanup($L.ms.exists.codeB);cleanup($L.ms.query);cleanup($L.ms.cm.object);$L.ms.filename="Object";$L.success.flgA=rtecall("rinit", $L.ms.exists.codeA, $L.ms.cm.object, $L.ms.filename);if $L.success.flgA then ($L.ms.query="file.name=\"cm3r\"")</td></tr></table><table width='100%'><tr><td width='50%'>if ($L.success.flgA and not  (null($L.ms.query))) then ($L.success.flgB=rtecall("select", $L.ms.exists.codeB, $L.ms.cm.object, $L.ms.query, , false))</td><td width='50%'>if ($L.success.flgA and not  (null($L.ms.query))) then ($L.success.flgB=rtecall("select", $L.ms.exists.codeB, $L.ms.cm.object, $L.ms.query, , false))</td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.object.exists=false;if ($L.success.flgB and $L.ms.exists.codeB=1) then ($L.ms.object.exists=true)</td><td width='50%'>$L.ms.object.exists=false;if ($L.success.flgB and $L.ms.exists.codeB=1) then ($L.ms.object.exists=true)</td></tr></table><table width='100%'><tr><td width='50%'></td><td width='50%'></td></tr></table><table width='100%'><tr><td width='50%'>$L.success.flgA=false;$L.success.flgB=false;cleanup($L.ms.exists.codeA);cleanup($L.ms.exists.codeB);cleanup($L.ms.query);cleanup($L.ms.cm.approval);$L.ms.filename="Approval";$L.success.flgA=rtecall("rinit", $L.ms.exists.codeA, $L.ms.cm.approval, $L.ms.filename);if $L.success.flgA then ($L.ms.query="file.name=\"cm3r\" and name=\"MS.DynApprovalGroup Approval\" and unique.key=\""+str(OVSCTicketID in $L.file)+"\"")</td><td width='50%'>$L.success.flgA=false;$L.success.flgB=false;cleanup($L.ms.exists.codeA);cleanup($L.ms.exists.codeB);cleanup($L.ms.query);cleanup($L.ms.cm.approval);$L.ms.filename="Approval";$L.success.flgA=rtecall("rinit", $L.ms.exists.codeA, $L.ms.cm.approval, $L.ms.filename);if $L.success.flgA then ($L.ms.query="file.name=\"cm3r\" and name=\"MS.DynApprovalGroup Approval\" and unique.key=\""+str(OVSCTicketID in $L.file)+"\"")</td></tr></table><table width='100%'><tr><td width='50%'>if ($L.success.flgA and not  (null($L.ms.query))) then ($L.success.flgB=rtecall("select", $L.ms.exists.codeB, $L.ms.cm.approval, $L.ms.query, , false))</td><td width='50%'>if ($L.success.flgA and not  (null($L.ms.query))) then ($L.success.flgB=rtecall("select", $L.ms.exists.codeB, $L.ms.cm.approval, $L.ms.query, , false))</td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.approval.exists=false;if ($L.success.flgB and $L.ms.exists.codeB=1) then ($L.ms.approval.exists=true)</td><td width='50%'>$L.ms.approval.exists=false;if ($L.success.flgB and $L.ms.exists.codeB=1) then ($L.ms.approval.exists=true)</td></tr></table><table width='100%'><tr><td width='50%'></td><td width='50%'></td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.condition1=false;if ($L.ms.cm.exists and $L.ms.object.exists and $L.ms.approval.exists) then ($L.ms.condition1=true)</td><td width='50%'>$L.ms.condition1=false;if ($L.ms.cm.exists and $L.ms.object.exists and $L.ms.approval.exists) then ($L.ms.condition1=true)</td></tr></table></div><b>RAD calls:</b><br /><div>
              RAD:<br /><table width='100%'><tr><td width='50%'>approval.approve</td><td width='50%'>approval.approve</td></tr></table>
              Pre-Expression:<br /><table width='100%'><tr><td width='50%'>if ($L.ms.hp.owned=false) then (TransactionStatusDetail in $L.file="error - hp does not own this change record");if ($L.ms.deeptrace=true and $L.ms.hp.owned=false) then ($L.ms.tace.message={};1 in $L.ms.trace.message=" ";2 in $L.ms.trace.message=str(tod())+" "+str(TransactionStatusDetail in $L.file);3 in $L.ms.trace.message=str(tod())+" "+"Approval action can not be accepted";TransactionMessageDetailed in $L.file=denull(TransactionMessageDetailed in $L.file)+denull($L.ms.trace.message));if ($L.ms.hp.owned=false) then ($L.ms.success.flgA=false;cleanup($L.ms.return.codeA);$L.ms.success.flgA=rtecall("rupdate", $L.ms.return.codeA, $L.file);if (nullsub($L.ms.success.flgA, false)=true) then ($L.ms.void=fduplicate($ms.hpsxin.cm, $L.file)))</td><td width='50%'>if ($L.ms.hp.owned=false) then (TransactionStatusDetail in $L.file="error - hp does not own this change record");if ($L.ms.deeptrace=true and $L.ms.hp.owned=false) then ($L.ms.tace.message={};1 in $L.ms.trace.message=" ";2 in $L.ms.trace.message=str(tod())+" "+str(TransactionStatusDetail in $L.file);3 in $L.ms.trace.message=str(tod())+" "+"Approval action can not be accepted";TransactionMessageDetailed in $L.file=denull(TransactionMessageDetailed in $L.file)+denull($L.ms.trace.message));if ($L.ms.hp.owned=false) then ($L.ms.success.flgA=false;cleanup($L.ms.return.codeA);$L.ms.success.flgA=rtecall("rupdate", $L.ms.return.codeA, $L.file);if (nullsub($L.ms.success.flgA, false)=true) then ($L.ms.void=fduplicate($ms.hpsxin.cm, $L.file)))</td></tr></table><table width='100%'><tr><td width='50%'>if ($L.ms.hp.owned=true and $L.ms.action.error=true) then (TransactionStatusDetail in $L.file="error - External Partners can not modify approvals on an HP owned change record.");if ($L.ms.deeptrace=true and $L.ms.hp.owned=true and $L.ms.action.error=true) then ($L.ms.tace.message={};1 in $L.ms.trace.message=" ";2 in $L.ms.trace.message=str(tod())+" "+str(TransactionStatusDetail in $L.file);3 in $L.ms.trace.message=str(tod())+" "+str($L.ms.action.error.group)+" can not modify approvals on an HP owned change record.";TransactionMessageDetailed in $L.file=denull(TransactionMessageDetailed in $L.file)+denull($L.ms.trace.message));if ($L.ms.hp.owned=true and $L.ms.action.error=true) then ($L.ms.success.flgA=false;cleanup($L.ms.return.codeA);$L.ms.success.flgA=rtecall("rupdate", $L.ms.return.codeA, $L.file);if (nullsub($L.ms.success.flgA, false)=true) then ($L.ms.void=fduplicate($ms.hpsxin.cm, $L.file)))</td><td width='50%'>if ($L.ms.hp.owned=true and $L.ms.action.error=true) then (TransactionStatusDetail in $L.file="error - External Partners can not modify approvals on an HP owned change record.");if ($L.ms.deeptrace=true and $L.ms.hp.owned=true and $L.ms.action.error=true) then ($L.ms.tace.message={};1 in $L.ms.trace.message=" ";2 in $L.ms.trace.message=str(tod())+" "+str(TransactionStatusDetail in $L.file);3 in $L.ms.trace.message=str(tod())+" "+str($L.ms.action.error.group)+" can not modify approvals on an HP owned change record.";TransactionMessageDetailed in $L.file=denull(TransactionMessageDetailed in $L.file)+denull($L.ms.trace.message));if ($L.ms.hp.owned=true and $L.ms.action.error=true) then ($L.ms.success.flgA=false;cleanup($L.ms.return.codeA);$L.ms.success.flgA=rtecall("rupdate", $L.ms.return.codeA, $L.file);if (nullsub($L.ms.success.flgA, false)=true) then ($L.ms.void=fduplicate($ms.hpsxin.cm, $L.file)))</td></tr></table><table width='100%'><tr><td width='50%'>if ($L.ms.hp.owned=true and $L.ms.no.comments=true) then (TransactionStatusDetail in $L.file="error - Denied Approvals must contain comments");if ($L.ms.deeptrace=true and $L.ms.hp.owned=true and $L.ms.no.comments=true) then ($L.ms.tace.message={};1 in $L.ms.trace.message=" ";2 in $L.ms.trace.message=str(tod())+" "+str(TransactionStatusDetail in $L.file);3 in $L.ms.trace.message=str(tod())+" "+str($L.ms.no.comments.group)+" must contain deny comments";TransactionMessageDetailed in $L.file=denull(TransactionMessageDetailed in $L.file)+denull($L.ms.trace.message));if ($L.ms.hp.owned=true and $L.ms.no.comments=true) then ($L.ms.success.flgA=false;cleanup($L.ms.return.codeA);$L.ms.success.flgA=rtecall("rupdate", $L.ms.return.codeA, $L.file);if (nullsub($L.ms.success.flgA, false)=true) then ($L.ms.void=fduplicate($ms.hpsxin.cm, $L.file)))</td><td width='50%'>if ($L.ms.hp.owned=true and $L.ms.no.comments=true) then (TransactionStatusDetail in $L.file="error - Denied Approvals must contain comments");if ($L.ms.deeptrace=true and $L.ms.hp.owned=true and $L.ms.no.comments=true) then ($L.ms.tace.message={};1 in $L.ms.trace.message=" ";2 in $L.ms.trace.message=str(tod())+" "+str(TransactionStatusDetail in $L.file);3 in $L.ms.trace.message=str(tod())+" "+str($L.ms.no.comments.group)+" must contain deny comments";TransactionMessageDetailed in $L.file=denull(TransactionMessageDetailed in $L.file)+denull($L.ms.trace.message));if ($L.ms.hp.owned=true and $L.ms.no.comments=true) then ($L.ms.success.flgA=false;cleanup($L.ms.return.codeA);$L.ms.success.flgA=rtecall("rupdate", $L.ms.return.codeA, $L.file);if (nullsub($L.ms.success.flgA, false)=true) then ($L.ms.void=fduplicate($ms.hpsxin.cm, $L.file)))</td></tr></table><table width='100%'><tr><td width='50%'></td><td width='50%'></td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.approve.condition=false;if ($L.ms.hp.owned=true and $L.ms.action.error=false and $L.ms.no.comments=false and lng(denull($L.ms.approval.groups))>0) then ($L.ms.approve.condition=true)</td><td width='50%'>$L.ms.approve.condition=false;if ($L.ms.hp.owned=true and $L.ms.action.error=false and $L.ms.no.comments=false and lng(denull($L.ms.approval.groups))>0) then ($L.ms.approve.condition=true)</td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.deny.condition=false;if ($L.ms.hp.owned=true and $L.ms.action.error=false and $L.ms.no.comments=false and lng(denull($L.ms.deny.groups))>0) then ($L.ms.deny.condition=true)</td><td width='50%'>$L.ms.deny.condition=false;if ($L.ms.hp.owned=true and $L.ms.action.error=false and $L.ms.no.comments=false and lng(denull($L.ms.deny.groups))>0) then ($L.ms.deny.condition=true)</td></tr></table><table width='100%'><tr><td width='50%'>$L.bg=true;$L.exit="refresh"</td><td width='50%'>$L.bg=true;$L.exit="refresh"</td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.filename="cm3r";$L.success.flgA=rtecall("rinit", $L.ms.exists.codeA, $L.ms.cm.ticket, $L.ms.filename);if $L.success.flgA then ($L.ms.query="number=\""+str(OVSCTicketID in $L.file)+"\"");if ($L.success.flgA and not  (null($L.ms.query))) then ($L.success.flgB=rtecall("select", $L.ms.exists.codeB, $L.ms.cm.ticket, $L.ms.query, , false))</td><td width='50%'>$L.ms.filename="cm3r";$L.success.flgA=rtecall("rinit", $L.ms.exists.codeA, $L.ms.cm.ticket, $L.ms.filename);if $L.success.flgA then ($L.ms.query="number=\""+str(OVSCTicketID in $L.file)+"\"");if ($L.success.flgA and not  (null($L.ms.query))) then ($L.success.flgB=rtecall("select", $L.ms.exists.codeB, $L.ms.cm.ticket, $L.ms.query, , false))</td></tr></table>

              Param Names:<br /><table width='100%'><tr><td width='50%'>file</td><td width='50%'>file</td></tr></table><table width='100%'><tr><td width='50%'>second.file</td><td width='50%'>second.file</td></tr></table><table width='100%'><tr><td width='50%'>names</td><td width='50%'>names</td></tr></table><table width='100%'><tr><td width='50%'>boolean1</td><td width='50%'>boolean1</td></tr></table><table width='100%'><tr><td width='50%'>prompt</td><td width='50%'>prompt</td></tr></table><table width='100%'><tr><td width='50%'>target.file</td><td width='50%'>target.file</td></tr></table><table width='100%'><tr><td width='50%'>text</td><td width='50%'>text</td></tr></table><table width='100%'><tr><td width='50%'>types</td><td width='50%'>types</td></tr></table>
              Param Values:<br /><table width='100%'><tr><td width='50%'>$L.ms.cm.ticket</td><td width='50%'>$L.ms.cm.ticket</td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.cm.object</td><td width='50%'>$L.ms.cm.object</td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.approval.groups</td><td width='50%'>$L.ms.approval.groups</td></tr></table><table width='100%'><tr><td width='50%'>$L.bg</td><td width='50%'>$L.bg</td></tr></table><table width='100%'><tr><td width='50%'>"approve"</td><td width='50%'>"approve"</td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.cm.approval</td><td width='50%'>$L.ms.cm.approval</td></tr></table><table width='100%'><tr><td width='50%'>$L.exit</td><td width='50%'>$L.exit</td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.approve.comment</td><td width='50%'>$L.ms.approve.comment</td></tr></table>

              Post-Expression:<br />
              RAD:<br /><table width='100%'><tr><td width='50%'>approval.approve</td><td width='50%'>approval.approve</td></tr></table>
              Pre-Expression:<br /><table width='100%'><tr><td width='50%'>$L.bg=true</td><td width='50%'>$L.bg=true</td></tr></table>

              Param Names:<br /><table width='100%'><tr><td width='50%'>file</td><td width='50%'>file</td></tr></table><table width='100%'><tr><td width='50%'>second.file</td><td width='50%'>second.file</td></tr></table><table width='100%'><tr><td width='50%'>names</td><td width='50%'>names</td></tr></table><table width='100%'><tr><td width='50%'>boolean1</td><td width='50%'>boolean1</td></tr></table><table width='100%'><tr><td width='50%'>prompt</td><td width='50%'>prompt</td></tr></table><table width='100%'><tr><td width='50%'>target.file</td><td width='50%'>target.file</td></tr></table><table width='100%'><tr><td width='50%'>text</td><td width='50%'>text</td></tr></table><table width='100%'><tr><td width='50%'>types</td><td width='50%'>types</td></tr></table>
              Param Values:<br /><table width='100%'><tr><td width='50%'>$L.ms.cm.ticket</td><td width='50%'>$L.ms.cm.ticket</td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.cm.object</td><td width='50%'>$L.ms.cm.object</td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.deny.groups</td><td width='50%'>$L.ms.deny.groups</td></tr></table><table width='100%'><tr><td width='50%'>$L.bg</td><td width='50%'>$L.bg</td></tr></table><table width='100%'><tr><td width='50%'>"deny"</td><td width='50%'>"deny"</td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.cm.approval</td><td width='50%'>$L.ms.cm.approval</td></tr></table><table width='100%'><tr><td width='50%'>$L.exit</td><td width='50%'>$L.exit</td></tr></table><table width='100%'><tr><td width='50%'>$L.ms.deny.comment</td><td width='50%'>$L.ms.deny.comment</td></tr></table>

              Post-Expression:<br /><table width='100%'><tr><td width='50%'>$L.ms.success.flgA=false;cleanup($L.ms.return.codeA);if (($L.ms.approve.condition or $L.ms.deny.condition) and $L.ms.condition1) then ($L.ms.success.flgA=rtecall("rupdate", $L.ms.return.codeA, $L.ms.cm.ticket))</td><td width='50%'>$L.ms.success.flgA=false;cleanup($L.ms.return.codeA);if (($L.ms.approve.condition or $L.ms.deny.condition) and $L.ms.condition1) then ($L.ms.success.flgA=rtecall("rupdate", $L.ms.return.codeA, $L.ms.cm.ticket))</td></tr></table></div></div>
  </body>
</html>